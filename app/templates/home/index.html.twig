{% extends 'base.html.twig' %}

{% block title %}Rechercher un wiki{% endblock %}

{% block body %}

    <div class="max-w-2xl mx-auto mt-10 bg-white rounded-lg shadow-lg p-6">
        <h1 class="text-3xl font-bold text-gray-800 mb-6 text-center">
            Trouver une page wiki
        </h1>

        <form method="get" action="{{ path('app_home') }}" class="flex gap-3 mb-8">
            <input
                type="search"
                name="q"
                value="{{ query }}"
                class="flex-1 px-4 py-2 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"
                placeholder="Titre du wiki, mot-clé..."
            >
            <button
                type="submit"
                class="px-4 py-2 rounded-md bg-blue-600 text-white font-semibold hover:bg-blue-700"
            >
                Rechercher
            </button>
        </form>

        {% if query is not empty %}
            <p class="text-sm text-gray-500 mb-4">
                Résultats pour « {{ query }} » :
            </p>

            {% if results is empty %}
                <p class="text-gray-500">Aucun wiki trouvé.</p>
            {% else %}
                <ul class="space-y-3">
                    {% for page in results %}
                        <li class="border border-gray-200 rounded-md p-3 flex items-center justify-between bg-white shadow-sm">
                            <div>
                                <a href="{{ path('app_wiki_show', {id: page.id}) }}"
                                   class="font-semibold text-blue-600 hover:underline">
                                    {{ page.title }}
                                </a>
                            </div>
                        </li>
                    {% endfor %}
                </ul>
            {% endif %}
        {% else %}
            <p class="text-gray-500 text-center">
                Commence par taper un mot-clé pour chercher dans les pages wiki.
            </p>
        {% endif %}
    </div>

{% endblock %}
